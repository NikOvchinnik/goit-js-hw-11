{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImgs(imgName) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/?';\n  const PARAMS = new URLSearchParams({\n    key: '42408042-b97fa2d9d3888df0f8d594195',\n    q: `${imgName}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n","import { refs } from '../main';\nimport { simpleGallery } from '../main';\n\nexport function renderImg(imgsObj) {\n  const markup = imgsObj.hits\n    .map(img => {\n      return `<li class=\"gallery-item\">\n      <a href=\"${img.largeImageURL}\">\n        <img\n          src=${img.webformatURL}\n          alt=${img.tags}\n          width=\"360\"\n          height=\"200\"\n        />\n        </a>\n        <ul class=\"img-list-info\">\n          <li class=\"img-item\">\n            <h2 class=\"img-title\">Likes</h2>\n            <p class=\"img-text\">${img.likes}</p>\n          </li>\n          <li class=\"img-item\">\n            <h2 class=\"img-title\">Views</h2>\n            <p class=\"img-text\">${img.views}</p>\n          </li>\n          <li class=\"img-item\">\n            <h2 class=\"img-title\">Comments</h2>\n            <p class=\"img-text\">${img.comments}</p>\n          </li>\n          <li class=\"img-item\">\n            <h2 class=\"img-title\">Downloads</h2>\n            <p class=\"img-text\">${img.downloads}</p>\n          </li>\n        </ul>\n      </li>`;\n    })\n    .join('');\n\n  refs.listElem.innerHTML = markup;\n  simpleGallery.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImgs } from './js/pixabay-api';\nimport { renderImg } from './js/render-functions';\n\nexport const refs = {\n  formElem: document.querySelector('.form-search'),\n  listElem: document.querySelector('.gallery-list'),\n  loaderElem: document.querySelector('.loader-container'),\n};\n\nrefs.formElem.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const userSearch = e.target.elements.image.value.trim();\n  if (!userSearch) {\n    return iziToast.show({\n      title: 'Error',\n      titleColor: '#fff',\n      titleSize: '16',\n      titleLineHeight: '1.5',\n      message: 'Please, enter name of image',\n      messageColor: '#fff',\n      messageSize: '16',\n      messageLineHeight: '1.5',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n    });\n  }\n\n  loaderShow();\n\n  searchImgs(userSearch)\n    .then(data => {\n      if (data.hits.length === 0) {\n        refs.listElem.innerHTML = '';\n        return iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fff',\n          messageSize: '16',\n          messageLineHeight: '1.5',\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n        });\n      }\n      renderImg(data);\n    })\n    .catch(error => {\n      console.log('Error');\n    })\n    .finally(() => {\n      loaderHide();\n      refs.formElem.reset();\n    });\n}\n\nconst options = {\n  captionDelay: 250,\n  captionsData: 'alt',\n};\n\nexport const simpleGallery = new SimpleLightbox('.gallery-list a', options);\n\nfunction loaderHide() {\n  refs.loaderElem.classList.add('is-hidden');\n}\n\nfunction loaderShow() {\n  refs.loaderElem.classList.remove('is-hidden');\n}\n"],"names":["searchImgs","imgName","BASE_URL","END_POINT","PARAMS","url","res","renderImg","imgsObj","markup","img","refs","simpleGallery","onSubmitForm","e","userSearch","iziToast","loaderShow","data","error","loaderHide","options","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAWC,EAAS,CAClC,MAAMC,EAAW,sBACXC,EAAY,SACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAG,GAAGH,CAAO,GACb,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKI,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCXO,SAASC,EAAUC,EAAS,CACjC,MAAMC,EAASD,EAAQ,KACpB,IAAIE,GACI;AAAA,iBACIA,EAAI,aAAa;AAAA;AAAA,gBAElBA,EAAI,YAAY;AAAA,gBAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAQUA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,kCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,kCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,kCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,YAI1C,EACA,KAAK,EAAE,EAEVC,EAAK,SAAS,UAAYF,EAC1BG,EAAc,QAAO,CACvB,CChCO,MAAMD,EAAO,CAClB,SAAU,SAAS,cAAc,cAAc,EAC/C,SAAU,SAAS,cAAc,eAAe,EAChD,WAAY,SAAS,cAAc,mBAAmB,CACxD,EAEAA,EAAK,SAAS,iBAAiB,SAAUE,CAAY,EAErD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,MAAM,MAAM,OACjD,GAAI,CAACC,EACH,OAAOC,EAAS,KAAK,CACnB,MAAO,QACP,WAAY,OACZ,UAAW,KACX,gBAAiB,MACjB,QAAS,8BACT,aAAc,OACd,YAAa,KACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,UAChB,CAAK,EAGHC,IAEAjB,EAAWe,CAAU,EAClB,KAAKG,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAAP,EAAK,SAAS,UAAY,GACnBK,EAAS,KAAK,CACnB,QACE,2EACF,aAAc,OACd,YAAa,KACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,UACpB,CAAS,EAEHT,EAAUW,CAAI,CACpB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAI,OAAO,CACzB,CAAK,EACA,QAAQ,IAAM,CACbC,IACAT,EAAK,SAAS,OACpB,CAAK,CACL,CAEA,MAAMU,EAAU,CACd,aAAc,IACd,aAAc,KAChB,EAEaT,EAAgB,IAAIU,EAAe,kBAAmBD,CAAO,EAE1E,SAASD,GAAa,CACpBT,EAAK,WAAW,UAAU,IAAI,WAAW,CAC3C,CAEA,SAASM,GAAa,CACpBN,EAAK,WAAW,UAAU,OAAO,WAAW,CAC9C"}